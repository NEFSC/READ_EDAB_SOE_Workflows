<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Overview of Stock Status Workflow â€¢ SOEworkflows</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Overview of Stock Status Workflow">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SOEworkflows</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/stock_status.html">Overview of Stock Status Workflow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="stock_status_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="stock_status_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="stock_status_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="stock_status_files/datatables-binding-0.33/datatables.js"></script><link href="stock_status_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="stock_status_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="stock_status_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="stock_status_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="stock_status_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Overview of Stock Status Workflow</h1>
            
      

      <div class="hidden name"><code>stock_status.Rmd</code></div>

    </div>

    
    
<p>This vignette demonstrates how to use this R package to create the
stock status indicator for the State of the Ecosystem reports.</p>
<div class="section level2">
<h2 id="pull-data-from-stocksmart">Pull data from <code>stocksmart</code><a class="anchor" aria-label="anchor" href="#pull-data-from-stocksmart"></a>
</h2>
<p>Andy renamed the assessmentdata package <a href="https://noaa-edab.github.io/stocksmart/" class="external-link">stocksmart</a> based on
<a href="https://www.st.nmfs.noaa.gov/stocksmart?app=homepage" class="external-link">Stock
SMART</a>.</p>
<p>Two data frames are in the package, <code>stockAssessmentData</code>
and <code>stockAssessmentSummary</code>.</p>
<p>In <code>stockAssessmentData</code> we have time series. Columns are
StockName, Stockid, Assessmentid, Year, Value, Metric, Description,
Units, AssessmentYear, Jurisdiction, FMP, CommonName, ScientificName,
ITIS, AssessmentType, StockArea, RegionalEcosystem and the reported
metrics are Catch, Fmort, Recruitment, Abundance, Index.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datatable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stockAssessmentData</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["Acadian redfish - Gulf of Maine / Georges Bank","Acadian redfish - Gulf of Maine / Georges Bank","Acadian redfish - Gulf of Maine / Georges Bank","Acadian redfish - Gulf of Maine / Georges Bank","Acadian redfish - Gulf of Maine / Georges Bank","Acadian redfish - Gulf of Maine / Georges Bank"],[10455,10455,10455,10455,10455,10455],[12882,12882,12882,12882,12882,12882],[1913,1914,1915,1916,1917,1918],[7,30,40,53,82,73],["Catch","Catch","Catch","Catch","Catch","Catch"],["Reported Catch - Total (Mean)","Reported Catch - Total (Mean)","Reported Catch - Total (Mean)","Reported Catch - Total (Mean)","Reported Catch - Total (Mean)","Reported Catch - Total (Mean)"],["Metric Tons","Metric Tons","Metric Tons","Metric Tons","Metric Tons","Metric Tons"],[2023,2023,2023,2023,2023,2023],["NEFMC","NEFMC","NEFMC","NEFMC","NEFMC","NEFMC"],["Northeast Multispecies","Northeast Multispecies","Northeast Multispecies","Northeast Multispecies","Northeast Multispecies","Northeast Multispecies"],["Acadian redfish","Acadian redfish","Acadian redfish","Acadian redfish","Acadian redfish","Acadian redfish"],["Sebastes fasciatus","Sebastes fasciatus","Sebastes fasciatus","Sebastes fasciatus","Sebastes fasciatus","Sebastes fasciatus"],[166774,166774,166774,166774,166774,166774],["Operational","Operational","Operational","Operational","Operational","Operational"],["Gulf of Maine / Georges Bank","Gulf of Maine / Georges Bank","Gulf of Maine / Georges Bank","Gulf of Maine / Georges Bank","Gulf of Maine / Georges Bank","Gulf of Maine / Georges Bank"],["Northeast Shelf","Northeast Shelf","Northeast Shelf","Northeast Shelf","Northeast Shelf","Northeast Shelf"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>StockName<\/th>\n      <th>Stockid<\/th>\n      <th>Assessmentid<\/th>\n      <th>Year<\/th>\n      <th>Value<\/th>\n      <th>Metric<\/th>\n      <th>Description<\/th>\n      <th>Units<\/th>\n      <th>AssessmentYear<\/th>\n      <th>Jurisdiction<\/th>\n      <th>FMP<\/th>\n      <th>CommonName<\/th>\n      <th>ScientificName<\/th>\n      <th>ITIS<\/th>\n      <th>AssessmentType<\/th>\n      <th>StockArea<\/th>\n      <th>RegionalEcosystem<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,8,13]},{"name":"StockName","targets":0},{"name":"Stockid","targets":1},{"name":"Assessmentid","targets":2},{"name":"Year","targets":3},{"name":"Value","targets":4},{"name":"Metric","targets":5},{"name":"Description","targets":6},{"name":"Units","targets":7},{"name":"AssessmentYear","targets":8},{"name":"Jurisdiction","targets":9},{"name":"FMP","targets":10},{"name":"CommonName","targets":11},{"name":"ScientificName","targets":12},{"name":"ITIS","targets":13},{"name":"AssessmentType","targets":14},{"name":"StockArea","targets":15},{"name":"RegionalEcosystem","targets":16}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script><p>In <code>stockAssessmentSummary</code> we have assessment metadata.
Columns are Stock ID, Stock Name, Jurisdiction, FMP, Science Center,
Regional Ecosystem, FSSI Stock?, ITIS Taxon Serial Number, Scientific
Name, Common Name, Stock Area, Assessment ID, Assessment Year,
Assessment Month, Last Data Year, Review Result, Assessment Model, Model
Version, Lead Lab, Citation, Final Assessment Report 1, Final Assessment
Report 2, Point of Contact, Life History Data, Abundance Data, Catch
Data, Assessment Level, Assessment Frequency, Model Category, Catch
Input Data, Abundance Input Data, Biological Input Data, Ecosystem
Linkage, Composition Input Data, F Year, Estimated F, F Unit, F Basis,
Flimit, Flimit Basis, Fmsy, Fmsy Basis, F/Flimit, F/Fmsy, Ftarget,
Ftarget Basis, F/Ftarget, B Year, Estimated B, B Unit, B Basis, Blimit,
Blimit Basis, Bmsy, Bmsy Basis, B/Blimit, B/Bmsy, MSY, MSY Unit,
Assessment Type.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datatable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stockAssessmentSummary</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[[11089,11089,10950,10950,10950,10950],["Atlantic menhaden - Atlantic Coast","Atlantic menhaden - Atlantic Coast","Albacore - North Atlantic","Albacore - North Atlantic","Albacore - North Atlantic","Albacore - North Atlantic"],["ASMFC","ASMFC","Atlantic HMS","Atlantic HMS","Atlantic HMS","Atlantic HMS"],["ASMFC Not In FMP","ASMFC Not In FMP","Consolidated Atlantic Highly Migratory Species","Consolidated Atlantic Highly Migratory Species","Consolidated Atlantic Highly Migratory Species","Consolidated Atlantic Highly Migratory Species"],["NEFSC / SEFSC","NEFSC / SEFSC","SEFSC","SEFSC","SEFSC","SEFSC"],["Northeast Shelf / Southeast Shelf","Northeast Shelf / Southeast Shelf","Atlantic Highly Migratory","Atlantic Highly Migratory","Atlantic Highly Migratory","Atlantic Highly Migratory"],["N","N","N","N","N","N"],[161732,161732,172419,172419,172419,172419],["Brevoortia tyrannus","Brevoortia tyrannus","Thunnus alalunga","Thunnus alalunga","Thunnus alalunga","Thunnus alalunga"],["Atlantic menhaden","Atlantic menhaden","Albacore","Albacore","Albacore","Albacore"],["Atlantic Coast","Atlantic Coast","North Atlantic","North Atlantic","North Atlantic","North Atlantic"],[9509,12496,936,2245,3895,6935],[2020,2022,2007,2009,2013,2016],[1,11,7,10,10,10],[2017,2021,2005,2007,2011,2015],["Full acceptance","Full acceptance","Full acceptance","Full acceptance","Full acceptance","Full acceptance"],["BAM","BAM","MultifanCL","Multifan CL","Multifan CL","Aspic"],["Atlantic Menhaden","Atlantic Menhaden",null,null,null,null],["Beaufort Lab","Beaufort Lab","ICCAT-SCRS","ICCAT-SCRS","ICCAT-SCRS","ICCAT-SCRS"],[null,null,"http://www.iccat.int/Documents/Meetings/Docs/2007_ALB%20STOCK%20ASSESS%20REP_AUG_07.pdf","http://www.iccat.int/Documents/Meetings/Docs/2009_ALB_ASSESS_ENG.pdf","http://www.iccat.int/Documents/Meetings/Docs/2013_ALB_ASSESS_REP_ENG.pdf","http://iccat.es/Documents/Meetings/Docs/2016_ALB_REPORT_ENG.pdf"],["SEDAR 69 Benchmark Stock Assessment Report Atlantic Menhaden","2022ï¿½Atlanticï¿½Menhadenï¿½Stockï¿½Assessmentï¿½Updateï¿½","REPORT OF THE 2007 ICCAT ALBACO RE STOCK ASSESSMENT SESSION","REPORT OF THE 2009 ICCAT ALBACO RE STOCK ASSESSMENT SESSION",null,"Albacore 2016 Assessment Report"],[null,null,null,null,null,null],["melissa.karp@noaa.gov","Amy.Schueller@noaa.gov","Victor Restrepo","Michael Schirripa, Craig Brown","Michael Schirripa, Craig Brown","Rishi Sharma, Craig Brown"],[null,null,2,2,3,3],[null,null,1,1,1,1],[null,null,2,2,2,1],[null,null,4,4,4,3],[null,null,2,2,2,2],[6,6,null,null,null,null],[5,5,null,null,null,null],[4,4,null,null,null,null],[5,5,null,null,null,null],[2,2,null,null,null,null],[5,5,null,null,null,null],[2017,2021,2005,2007,2011,2014],[0.1099999994039536,0.1599999964237213,0.2720000147819519,0.181999996304512,0.1070000007748604,0.05200000107288361],["Average F","Fully-selected F","Apical F","Apical F","Apical F","Apical F"],["F Average Across a Range of Ages","F for Fully-Selected Fish","Max F at Age","Max F Rate at Age","Max F Rate at Age","Max F Rate at Age"],[0.6000000238418579,0.5699999928474426,0.1809999942779541,null,null,null],["Maximum geometric mean fishing mortality rate for ages 2-4 for 1960-2012","Estimated Ecological Threshold","Fmsy","Fmsy","Fmsy","Fmsy"],[null,null,0.1809999942779541,0.1749999970197678,0.1490000039339066,0.09700000286102295],[null,null,"Direct estimate","Direct estimate","Direct estimate","Direct estimate"],[0.1829999983310699,0.2809999883174896,1.5,null,null,null],[null,null,1.5,1.039999961853027,0.7200000286102295,0.5400000214576721],[0.2199999988079071,0.1899999976158142,0.1809999942779541,0.1749999970197678,0.1490000039339066,null],["Median geometric fishing mean fishing mortality rate for ages 2-4 for 1960-2012","Estimated Ecological Target","Fmsy",null,null,null],[0.5,0.8420000076293945,1.5,1.039999961853027,0.7200000286102295,0.5400000214576721],[2017,2021,2005,2007,2011,2015],[2601550,2570080,135270,33397.98046875,76243,555363],["Billion Eggs","Billion Eggs","Metric Tons","Metric Tons","Metric Tons","Metric Tons"],["Female Reproductive Output","Female Reproductive Output","Total Stock Biomass","Spawning Biomass","Spawning Biomass","Total Stock Biomass"],[1463344,1492854,null,null,56700,163026.796875],["billlions of eggs","Estimated Ecological Threshold","Bmsy",null,"0.7 * Bmsy","0.4*Bmsy"],[null,2003986,167000,53660,81110,407567],[null,"Estimated Ecological Target","Bmsy proxy","Bmsy proxy","Direct Estimate","Direct Estimate"],[1.777999997138977,1.722000002861023,0.8100000023841858,null,1.345000028610229,3.400000095367432],[null,1.281999945640564,0.8100000023841858,0.621999979019165,0.9399999976158142,1.360000014305115],[null,null,30230,29000,31680,37082],[null,null,null,null,"Metric Tons","Metric Tons"],["Research &amp; Operational","Operational","Full Update","Full Update","Full Update","Full Update"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Stock ID<\/th>\n      <th>Stock Name<\/th>\n      <th>Jurisdiction<\/th>\n      <th>FMP<\/th>\n      <th>Science Center<\/th>\n      <th>Regional Ecosystem<\/th>\n      <th>FSSI Stock?<\/th>\n      <th>ITIS Taxon Serial Number<\/th>\n      <th>Scientific Name<\/th>\n      <th>Common Name<\/th>\n      <th>Stock Area<\/th>\n      <th>Assessment ID<\/th>\n      <th>Assessment Year<\/th>\n      <th>Assessment Month<\/th>\n      <th>Last Data Year<\/th>\n      <th>Review Result<\/th>\n      <th>Assessment Model<\/th>\n      <th>Model Version<\/th>\n      <th>Lead Lab<\/th>\n      <th>Citation<\/th>\n      <th>Final Assessment Report 1<\/th>\n      <th>Final Assessment Report 2<\/th>\n      <th>Point of Contact<\/th>\n      <th>Life History Data<\/th>\n      <th>Abundance Data<\/th>\n      <th>Catch Data<\/th>\n      <th>Assessment Level<\/th>\n      <th>Assessment Frequency<\/th>\n      <th>Model Category<\/th>\n      <th>Catch Input Data<\/th>\n      <th>Abundance Input Data<\/th>\n      <th>Biological Input Data<\/th>\n      <th>Ecosystem Linkage<\/th>\n      <th>Composition Input Data<\/th>\n      <th>F Year<\/th>\n      <th>Estimated F<\/th>\n      <th>F Unit<\/th>\n      <th>F Basis<\/th>\n      <th>Flimit<\/th>\n      <th>Flimit Basis<\/th>\n      <th>Fmsy<\/th>\n      <th>Fmsy Basis<\/th>\n      <th>F/Flimit<\/th>\n      <th>F/Fmsy<\/th>\n      <th>Ftarget<\/th>\n      <th>Ftarget Basis<\/th>\n      <th>F/Ftarget<\/th>\n      <th>B Year<\/th>\n      <th>Estimated B<\/th>\n      <th>B Unit<\/th>\n      <th>B Basis<\/th>\n      <th>Blimit<\/th>\n      <th>Blimit Basis<\/th>\n      <th>Bmsy<\/th>\n      <th>Bmsy Basis<\/th>\n      <th>B/Blimit<\/th>\n      <th>B/Bmsy<\/th>\n      <th>MSY<\/th>\n      <th>MSY Unit<\/th>\n      <th>Assessment Type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,7,11,12,13,14,23,24,25,26,27,28,29,30,31,32,33,34,35,38,40,42,43,44,46,47,48,51,53,55,56,57]},{"name":"Stock ID","targets":0},{"name":"Stock Name","targets":1},{"name":"Jurisdiction","targets":2},{"name":"FMP","targets":3},{"name":"Science Center","targets":4},{"name":"Regional Ecosystem","targets":5},{"name":"FSSI Stock?","targets":6},{"name":"ITIS Taxon Serial Number","targets":7},{"name":"Scientific Name","targets":8},{"name":"Common Name","targets":9},{"name":"Stock Area","targets":10},{"name":"Assessment ID","targets":11},{"name":"Assessment Year","targets":12},{"name":"Assessment Month","targets":13},{"name":"Last Data Year","targets":14},{"name":"Review Result","targets":15},{"name":"Assessment Model","targets":16},{"name":"Model Version","targets":17},{"name":"Lead Lab","targets":18},{"name":"Citation","targets":19},{"name":"Final Assessment Report 1","targets":20},{"name":"Final Assessment Report 2","targets":21},{"name":"Point of Contact","targets":22},{"name":"Life History Data","targets":23},{"name":"Abundance Data","targets":24},{"name":"Catch Data","targets":25},{"name":"Assessment Level","targets":26},{"name":"Assessment Frequency","targets":27},{"name":"Model Category","targets":28},{"name":"Catch Input Data","targets":29},{"name":"Abundance Input Data","targets":30},{"name":"Biological Input Data","targets":31},{"name":"Ecosystem Linkage","targets":32},{"name":"Composition Input Data","targets":33},{"name":"F Year","targets":34},{"name":"Estimated F","targets":35},{"name":"F Unit","targets":36},{"name":"F Basis","targets":37},{"name":"Flimit","targets":38},{"name":"Flimit Basis","targets":39},{"name":"Fmsy","targets":40},{"name":"Fmsy Basis","targets":41},{"name":"F/Flimit","targets":42},{"name":"F/Fmsy","targets":43},{"name":"Ftarget","targets":44},{"name":"Ftarget Basis","targets":45},{"name":"F/Ftarget","targets":46},{"name":"B Year","targets":47},{"name":"Estimated B","targets":48},{"name":"B Unit","targets":49},{"name":"B Basis","targets":50},{"name":"Blimit","targets":51},{"name":"Blimit Basis","targets":52},{"name":"Bmsy","targets":53},{"name":"Bmsy Basis","targets":54},{"name":"B/Blimit","targets":55},{"name":"B/Bmsy","targets":56},{"name":"MSY","targets":57},{"name":"MSY Unit","targets":58},{"name":"Assessment Type","targets":59}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="supplement-with-pdb-data-if-needed">Supplement with PDB data, if needed<a class="anchor" aria-label="anchor" href="#supplement-with-pdb-data-if-needed"></a>
</h2>
<p>Build a stocksmart-like object from PDB files from Spring 2024 MT
assessments</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MTspring24</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_pdb.html">build_pdb</a></span><span class="op">(</span></span>
<span>  stocknames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    Stock.Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Black sea bass - Mid-Atlantic Coast"</span>,</span>
<span>      <span class="st">"Butterfish - Gulf of Maine / Cape Hatteras"</span>,</span>
<span>      <span class="st">"Atlantic cod - Eastern Gulf of Maine"</span>,</span>
<span>      <span class="st">"Atlantic cod - Georges Bank"</span>,</span>
<span>      <span class="st">"Atlantic cod - Southern New England"</span>,</span>
<span>      <span class="st">"Atlantic cod - Western Gulf of Maine"</span>,</span>
<span>      <span class="st">"Tilefish - Mid-Atlantic Coast"</span>,</span>
<span>      <span class="st">"Atlantic herring - Northwestern Atlantic Coast"</span>,</span>
<span>      <span class="st">"Atlantic surfclam - Mid-Atlantic Coast"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    ABBR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"BSBUNIT"</span>,</span>
<span>      <span class="st">"BUTUNIT"</span>,</span>
<span>      <span class="st">"CODEGOM"</span>,</span>
<span>      <span class="st">"CODGB"</span>,</span>
<span>      <span class="st">"CODSNE"</span>,</span>
<span>      <span class="st">"CODWGOM"</span>,</span>
<span>      <span class="st">"GTFUNIT"</span>,</span>
<span>      <span class="st">"HERUNIT"</span>,</span>
<span>      <span class="st">"SCUNIT"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  fnames <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/SISspringMT2024"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span></span>
<span>      pattern <span class="op">=</span> <span class="st">"db.RData.csv$"</span>,</span>
<span>      full.names <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">MTspring24</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 28</span></span></span>
<span><span class="co">##   Entity.Name                      `Assessment Type` `Last Data Year` `Lead Lab`</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Black sea bass - Mid-Atlantic Câ€¦ Management Track              <span style="text-decoration: underline;">2</span>023 NEFSC     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Butterfish - Gulf of Maine / Caâ€¦ Management Track              <span style="text-decoration: underline;">2</span>023 NEFSC     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Atlantic cod - Eastern Gulf of â€¦ Management Track              <span style="text-decoration: underline;">2</span>023 NEFSC     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Atlantic cod - Georges Bank      Management Track                46 NEFSC     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> Atlantic cod - Southern New Engâ€¦ Management Track              <span style="text-decoration: underline;">2</span>023 NEFSC     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> Atlantic cod - Western Gulf of â€¦ Management Track              <span style="text-decoration: underline;">2</span>023 NEFSC     </span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 24 more variables: `Point of Contact (assessment lead)` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `F Year` &lt;int&gt;, `Min F Estimate` &lt;dbl&gt;, `Max F Estimate` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Best F Estimate` &lt;dbl&gt;, `F Unit` &lt;lgl&gt;, Flimit &lt;dbl&gt;, FMSY &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `F target` &lt;dbl&gt;, `F/Flimit` &lt;dbl&gt;, F.Fmsy &lt;dbl&gt;, `F/Ftarget` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `B Year` &lt;int&gt;, `Min B. Estimate` &lt;dbl&gt;, `Max B. Estimate` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `B Basis` &lt;chr&gt;, MSY &lt;chr&gt;, `MSY Unit` &lt;chr&gt;, Blimit &lt;dbl&gt;, BMSY &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `B/Blimit` &lt;dbl&gt;, B.Bmsy &lt;dbl&gt;, `Stock Level (relative) to BMSY` &lt;chr&gt;, â€¦</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="create-an-assess-csv-like-object">Create an <code>assess.csv</code>-like object<a class="anchor" aria-label="anchor" href="#create-an-assess-csv-like-object"></a>
</h2>
<p>The <code><a href="../reference/create_stock_status.html">create_stock_status()</a></code> function can be used to create
a data frame similar to the <code>assess.csv</code> file that Sarah used
to provide. This data is not fully processed for inclusion in
<code>ecodata</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_stock_status.html">create_stock_status</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu">stocksmart</span><span class="fu">::</span><span class="va"><a href="https://noaa-edab.github.io/stocksmart/reference/stockAssessmentSummary.html" class="external-link">stockAssessmentSummary</a></span>,</span>
<span>  decode <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_status</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 60</span></span></span>
<span><span class="co">##   `Stock ID` Entity.Name                     Jurisdiction FMP   `Science Center`</span></span>
<span><span class="co">##        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>      <span style="text-decoration: underline;">10</span>787 Atlantic surfclam - Mid-Atlantâ€¦ MAFMC        Atlaâ€¦ NEFSC           </span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 55 more variables: `Regional Ecosystem` &lt;chr&gt;, `FSSI Stock?` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `ITIS Taxon Serial Number` &lt;dbl&gt;, `Scientific Name` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Common Name` &lt;chr&gt;, `Stock Area` &lt;chr&gt;, `Assessment ID` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   Assessment.Year &lt;dbl&gt;, `Assessment Month` &lt;dbl&gt;, `Last Data Year` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Review Result` &lt;chr&gt;, `Assessment Model` &lt;chr&gt;, `Model Version` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Lead Lab` &lt;chr&gt;, Citation &lt;chr&gt;, `Final Assessment Report 1` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Final Assessment Report 2` &lt;chr&gt;, `Point of Contact` &lt;chr&gt;, â€¦</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="create-the-stock-status-indicator">Create the stock status indicator<a class="anchor" aria-label="anchor" href="#create-the-stock-status-indicator"></a>
</h2>
<div class="section level3">
<h3 id="with-stocksmart-data-only">With stocksmart data only<a class="anchor" aria-label="anchor" href="#with-stocksmart-data-only"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_stock_status.html">create_stock_status</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu">stocksmart</span><span class="fu">::</span><span class="va"><a href="https://noaa-edab.github.io/stocksmart/reference/stockAssessmentSummary.html" class="external-link">stockAssessmentSummary</a></span>,</span>
<span>  decode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/2024decoder.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in create_stock_status(data = stocksmart::stockAssessmentSummary, : Some stocks do not have matches in the decode table: </span></span>
<span><span class="co">## Atlantic salmon - Gulf of Maine, Atlantic cod - Eastern Georges Bank, Atlantic wolffish - Gulf of Maine / Georges Bank, Haddock - Eastern Georges Bank</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_status</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 8</span></span></span>
<span><span class="co">##   Stock                  `Last assessment` Council Code  Var   Value Units EPU  </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Atlantic surfclam - Mâ€¦              <span style="text-decoration: underline;">2</span>024 MAFMC   Surfâ€¦ F.Fmâ€¦ 0.183 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Atlantic surfclam - Mâ€¦              <span style="text-decoration: underline;">2</span>024 MAFMC   Surfâ€¦ B.Bmâ€¦ 0.950 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Ocean quahog - Atlantâ€¦              <span style="text-decoration: underline;">2</span>020 MAFMC   Quahâ€¦ F.Fmâ€¦ 0.263 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Ocean quahog - Atlantâ€¦              <span style="text-decoration: underline;">2</span>020 MAFMC   Quahâ€¦ B.Bmâ€¦ 1.08  unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> Bluefish - Atlantic Câ€¦              <span style="text-decoration: underline;">2</span>023 MAFMC   Blueâ€¦ F.Fmâ€¦ 0.636 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> Bluefish - Atlantic Câ€¦              <span style="text-decoration: underline;">2</span>023 MAFMC   Blueâ€¦ B.Bmâ€¦ 0.599 unitâ€¦ MAB</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="st">"MAFMC"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/plot_stocksmart.html">plot_stocksmart</a></span><span class="op">(</span>xmax <span class="op">=</span> <span class="fl">2.6</span>, ymax <span class="op">=</span> <span class="fl">2.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="stock_status_files/figure-html/plt-mafmc-1.png" width="672"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="st">"NEFMC"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/plot_stocksmart.html">plot_stocksmart</a></span><span class="op">(</span>xmax <span class="op">=</span> <span class="fl">5</span>, ymax <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="stock_status_files/figure-html/plt-nefmc-1.png" width="672"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MAFMC"</span>, <span class="st">"NEFMC"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">F.Fmsy</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">B.Bmsy</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Council</span>, <span class="va">Stock</span>, <span class="va">F.Fmsy</span>, <span class="va">B.Bmsy</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Stocks with unknown status"</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Stocks with unknown status</caption>
<colgroup>
<col width="10%">
<col width="71%">
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">Council</th>
<th align="left">Stock</th>
<th align="right">F.Fmsy</th>
<th align="right">B.Bmsy</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">MAFMC</td>
<td align="left">Longfin inshore squid - Georges Bank / Cape
Hatteras</td>
<td align="right">NA</td>
<td align="right">2.873</td>
</tr>
<tr class="even">
<td align="left">MAFMC</td>
<td align="left">Northern shortfin squid - Northwestern Atlantic
Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Red deepsea crab - Northwestern Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Atlantic cod - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Atlantic halibut - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Offshore hake - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Red hake - Gulf of Maine / Northern Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Red hake - Southern Georges Bank / Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Windowpane - Gulf of Maine / Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Winter flounder - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Witch flounder - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Yellowtail flounder - Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Barndoor skate - Georges Bank / Southern New
England</td>
<td align="right">NA</td>
<td align="right">1.070</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Clearnose skate - Southern New England /
Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">0.802</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Little skate - Georges Bank / Southern New England</td>
<td align="right">NA</td>
<td align="right">0.580</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Rosette skate - Southern New England /
Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">1.075</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Smooth skate - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">0.696</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Thorny skate - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">0.035</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Winter skate - Georges Bank / Southern New England</td>
<td align="right">NA</td>
<td align="right">1.120</td>
</tr>
<tr class="even">
<td align="left">Both</td>
<td align="left">Goosefish - Gulf of Maine / Northern Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Both</td>
<td align="left">Goosefish - Southern Georges Bank / Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="with-the-pdb-data-added">With the PDB data added<a class="anchor" aria-label="anchor" href="#with-the-pdb-data-added"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_stock_status.html">create_stock_status</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu">stocksmart</span><span class="fu">::</span><span class="va"><a href="https://noaa-edab.github.io/stocksmart/reference/stockAssessmentSummary.html" class="external-link">stockAssessmentSummary</a></span>,</span>
<span>  decode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/2024decoder.csv"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  merge_data <span class="op">=</span> <span class="va">MTspring24</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in create_stock_status(data = stocksmart::stockAssessmentSummary, : Some stocks do not have matches in the decode table: </span></span>
<span><span class="co">## Atlantic salmon - Gulf of Maine, Atlantic cod - Eastern Georges Bank, Atlantic wolffish - Gulf of Maine / Georges Bank, Haddock - Eastern Georges Bank</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_status</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 8</span></span></span>
<span><span class="co">##   Stock                  `Last assessment` Council Code  Var   Value Units EPU  </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Atlantic surfclam - Mâ€¦              <span style="text-decoration: underline;">2</span>024 MAFMC   Surfâ€¦ F.Fmâ€¦ 0.183 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Atlantic surfclam - Mâ€¦              <span style="text-decoration: underline;">2</span>024 MAFMC   Surfâ€¦ B.Bmâ€¦ 0.950 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Ocean quahog - Atlantâ€¦              <span style="text-decoration: underline;">2</span>020 MAFMC   Quahâ€¦ F.Fmâ€¦ 0.263 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Ocean quahog - Atlantâ€¦              <span style="text-decoration: underline;">2</span>020 MAFMC   Quahâ€¦ B.Bmâ€¦ 1.08  unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> Bluefish - Atlantic Câ€¦              <span style="text-decoration: underline;">2</span>023 MAFMC   Blueâ€¦ F.Fmâ€¦ 0.636 unitâ€¦ MAB  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> Bluefish - Atlantic Câ€¦              <span style="text-decoration: underline;">2</span>023 MAFMC   Blueâ€¦ B.Bmâ€¦ 0.599 unitâ€¦ MAB</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="st">"MAFMC"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/plot_stocksmart.html">plot_stocksmart</a></span><span class="op">(</span>xmax <span class="op">=</span> <span class="fl">2.6</span>, ymax <span class="op">=</span> <span class="fl">2.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="stock_status_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="st">"NEFMC"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/plot_stocksmart.html">plot_stocksmart</a></span><span class="op">(</span>xmax <span class="op">=</span> <span class="fl">5</span>, ymax <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="stock_status_files/figure-html/unnamed-chunk-7-2.png" width="672"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prep_for_plotting.html">prep_for_plotting</a></span><span class="op">(</span>council <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MAFMC"</span>, <span class="st">"NEFMC"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">F.Fmsy</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">B.Bmsy</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Council</span>, <span class="va">Stock</span>, <span class="va">F.Fmsy</span>, <span class="va">B.Bmsy</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Stocks with unknown status"</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Stocks with unknown status</caption>
<colgroup>
<col width="10%">
<col width="71%">
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">Council</th>
<th align="left">Stock</th>
<th align="right">F.Fmsy</th>
<th align="right">B.Bmsy</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">MAFMC</td>
<td align="left">Longfin inshore squid - Georges Bank / Cape
Hatteras</td>
<td align="right">NA</td>
<td align="right">2.873</td>
</tr>
<tr class="even">
<td align="left">MAFMC</td>
<td align="left">Northern shortfin squid - Northwestern Atlantic
Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Red deepsea crab - Northwestern Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Atlantic cod - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Atlantic halibut - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Offshore hake - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Red hake - Gulf of Maine / Northern Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Red hake - Southern Georges Bank / Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Windowpane - Gulf of Maine / Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Winter flounder - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Witch flounder - Northwestern Atlantic Coast</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Yellowtail flounder - Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Barndoor skate - Georges Bank / Southern New
England</td>
<td align="right">NA</td>
<td align="right">1.070</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Clearnose skate - Southern New England /
Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">0.802</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Little skate - Georges Bank / Southern New England</td>
<td align="right">NA</td>
<td align="right">0.580</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Rosette skate - Southern New England /
Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">1.075</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Smooth skate - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">0.696</td>
</tr>
<tr class="even">
<td align="left">NEFMC</td>
<td align="left">Thorny skate - Gulf of Maine</td>
<td align="right">NA</td>
<td align="right">0.035</td>
</tr>
<tr class="odd">
<td align="left">NEFMC</td>
<td align="left">Winter skate - Georges Bank / Southern New England</td>
<td align="right">NA</td>
<td align="right">1.120</td>
</tr>
<tr class="even">
<td align="left">Both</td>
<td align="left">Goosefish - Gulf of Maine / Northern Georges Bank</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Both</td>
<td align="left">Goosefish - Southern Georges Bank / Mid-Atlantic</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="complete-workflow-examples">Complete workflow examples<a class="anchor" aria-label="anchor" href="#complete-workflow-examples"></a>
</h2>
<div class="section level3">
<h3 id="with-stocksmart-data-only-1">With stocksmart data only<a class="anchor" aria-label="anchor" href="#with-stocksmart-data-only-1"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stock_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_stock_status.html">create_stock_status</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu">stocksmart</span><span class="fu">::</span><span class="va"><a href="https://noaa-edab.github.io/stocksmart/reference/stockAssessmentSummary.html" class="external-link">stockAssessmentSummary</a></span>,</span>
<span>  decode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/2024decoder.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="with-the-pdb-data-added-1">With the PDB data added<a class="anchor" aria-label="anchor" href="#with-the-pdb-data-added-1"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># build PDB data to add</span></span>
<span><span class="va">MTspring24</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_pdb.html">build_pdb</a></span><span class="op">(</span></span>
<span>  stocknames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    Stock.Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Black sea bass - Mid-Atlantic Coast"</span>,</span>
<span>      <span class="st">"Butterfish - Gulf of Maine / Cape Hatteras"</span>,</span>
<span>      <span class="st">"Atlantic cod - Eastern Gulf of Maine"</span>,</span>
<span>      <span class="st">"Atlantic cod - Georges Bank"</span>,</span>
<span>      <span class="st">"Atlantic cod - Southern New England"</span>,</span>
<span>      <span class="st">"Atlantic cod - Western Gulf of Maine"</span>,</span>
<span>      <span class="st">"Tilefish - Mid-Atlantic Coast"</span>,</span>
<span>      <span class="st">"Atlantic herring - Northwestern Atlantic Coast"</span>,</span>
<span>      <span class="st">"Atlantic surfclam - Mid-Atlantic Coast"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    ABBR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"BSBUNIT"</span>,</span>
<span>      <span class="st">"BUTUNIT"</span>,</span>
<span>      <span class="st">"CODEGOM"</span>,</span>
<span>      <span class="st">"CODGB"</span>,</span>
<span>      <span class="st">"CODSNE"</span>,</span>
<span>      <span class="st">"CODWGOM"</span>,</span>
<span>      <span class="st">"GTFUNIT"</span>,</span>
<span>      <span class="st">"HERUNIT"</span>,</span>
<span>      <span class="st">"SCUNIT"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  fnames <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/SISspringMT2024"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span></span>
<span>      pattern <span class="op">=</span> <span class="st">"db.RData.csv$"</span>,</span>
<span>      full.names <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create indicator</span></span>
<span><span class="va">stock_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_stock_status.html">create_stock_status</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu">stocksmart</span><span class="fu">::</span><span class="va"><a href="https://noaa-edab.github.io/stocksmart/reference/stockAssessmentSummary.html" class="external-link">stockAssessmentSummary</a></span>,</span>
<span>  decode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/2024decoder.csv"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  merge <span class="op">=</span> <span class="va">MTspring24</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Joseph Caracappa.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
